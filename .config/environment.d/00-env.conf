#------------------------------------------------------------------------------
# Systemd User Environment Variables
#
# This file defines environment variables that are user-scoped and are sourced
# upon login (rather than in each shell session).
#
# See also:
# - https://wiki.archlinux.org/title/environment_variables#Per_user
# - https://man.archlinux.org/man/environment.d.5
#------------------------------------------------------------------------------

# XDG
XDG_CONFIG_HOME="${HOME}/.config"
XDG_CACHE_HOME="${HOME}/.cache"
XDG_DATA_HOME="${HOME}/.local/share"
XDG_STATE_HOME="${HOME}/.local/state"

#------------------------------------------------------------------------------
# Shell tools
#------------------------------------------------------------------------------

# Editor
EDITOR="nvim"
VISUAL="nvim"

# man
MANPAGER="sh -c 'col -bx | bat --plain --language=man'"

# ncurses
TERMINFO="${XDG_DATA_HOME}/terminfo"
TERMINFO_DIRS="${TERMINFO}:/usr/share/terminfo"

# GPG
# NOTE: Disabled as setting GPG agent ssh emulation socket is hard
#GNUPGHOME="${XDG_CONFIG_HOME}/gnupg"

# SSH
# TODO: This might need to be in its own file, say "10-linux.conf"
SSH_AGENT_PID=""
SSH_AUTH_SOCK="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"

# screen
SCREENRC="${XDG_CONFIG_HOME}/screen/screenrc"

# tmux
TMUX_PLUGIN_MANAGER_PATH="${XDG_CONFIG_HOME}/tmux/plugins"

# Shell history
HISTFILE="${XDG_DATA_HOME}/zsh/history"

# Zsh
ZDOTDIR="${XDG_CONFIG_HOME}/zsh"

# less
LESS="--mouse --use-color --RAW-CONTROL-CHARS --quit-if-one-screen"
LESSKEY="${XDG_CONFIG_HOME}/less/lesskey"
LESSHISTFILE="${XDG_CACHE_HOME}/less/history"

# bat
BAT_CONFIG_PATH="${XDG_CONFIG_HOME}/bat/bat.conf"

# ripgrep
RIPGREP_CONFIG_PATH="${XDG_CONFIG_HOME}/ripgrep/config"

# parallel
PARALLEL_HOME="${XDG_CONFIG_HOME}/parallel"

# xz
XZ_DEFAULTS="--verbose --keep --threads=0"

# Zstandard
ZSTD_NBTHREADS="0"

# FZF
FZF_DEFAULT_COMMAND="fd --type=file --exclude=.git --hidden --follow"
FZF_DEFAULT_OPTS='--cycle --layout=reverse --border --height=90% --preview-window=wrap --marker="*"'

#------------------------------------------------------------------------------
# Graphical
#------------------------------------------------------------------------------

# Xorg
XAUTHORITY="${XDG_RUNTIME_DIR}/Xauthority"

# KDE
KDEHOME="${XDG_CONFIG_HOME}/kde"

# GTK
GTK_RC_FILES="${XDG_CONFIG_HOME}/gtk-1.0/gtkrc"
GTK2_RC_FILES="${XDG_CONFIG_HOME}/gtk-2.0/gtkrc"

#------------------------------------------------------------------------------
# Programming
#------------------------------------------------------------------------------

# Go
GOPATH="${XDG_DATA_HOME}/go"

# Rust
RUSTUP_HOME="${XDG_DATA_HOME}/rustup"
CARGO_HOME="${XDG_DATA_HOME}/cargo"

# Java
_JAVA_OPTIONS="-Djava.util.prefs.userRoot=${XDG_CONFIG_HOME}/java"

# .NET
NUGET_PACKAGES="${XDG_CACHE_HOME}/NuGetPackages"

# Python
PYLINTHOME="${XDG_CACHE_HOME}/pylint"

# Ruby
GEM_HOME="${XDG_DATA_HOME}/gem"
GEM_SPEC_CACHE="${XDG_CACHE_HOME}/gem"

# Node.js
NODE_REPL_HISTORY="${XDG_DATA_HOME}/node_repl_history"
NPM_CONFIG_USERCONFIG="${XDG_CONFIG_HOME}/npm/npmrc"
NVM_DIR="${XDG_DATA_HOME}/nvm"

# Deno
DENO_INSTALL_ROOT="${XDG_DATA_HOME}/deno"

# PostgreSQL
PSQLRC="${XDG_CONFIG_HOME}/pg/psqlrc"
PSQL_HISTORY="${XDG_CACHE_HOME}/pg/psql_history"
PGPASSFILE="${XDG_CONFIG_HOME}/pg/pgpass"
PGSERVICEFILE="${XDG_CONFIG_HOME}/pg/pg_service.conf"

#------------------------------------------------------------------------------
# DevOps
#------------------------------------------------------------------------------

# Docker
DOCKER_CONFIG="${XDG_CONFIG_HOME}/docker"
MACHINE_STORAGE_PATH="${XDG_DATA_HOME}/docker-machine"

# Kubernetes
K9SCONFIG="${XDG_CONFIG_HOME}/k9s"

# DC/OS
DCOS_DIR="$XDG_CONFIG_HOME/dcos"

# Terraform
TF_CLI_CONFIG_FILE="${XDG_CONFIG_HOME}/terraform/terraformrc"

# Vault
VAULT_CONFIG_PATH="${XDG_CONFIG_HOME}/vault/config"

# Vagrant
VAGRANT_HOME="${XDG_DATA_HOME}/vagrant"
VAGRANT_ALIAS_FILE="${XDG_DATA_HOME}/vagrant/aliases"

# AWS
AWS_SHARED_CREDENTIALS_FILE="${XDG_CONFIG_HOME}/aws/credentials"
AWS_CONFIG_FILE="${XDG_CONFIG_HOME}/aws/config"
AWS_VAULT_KEYCHAIN_NAME="login"

# GCP
GOOGLE_APPLICATION_CREDENTIALS="${XDG_CONFIG_HOME}/gcp/credentials.json"

#------------------------------------------------------------------------------
# PATH
#
# This is at the end as it may depend on previously set variables
#------------------------------------------------------------------------------

CODEPATH="${HOME}/code"
PATH="${HOME}/.local/bin:${HOME}/.krew/bin:${GOPATH}/bin:${CARGO_HOME}/bin:${DENO_INSTALL_ROOT}/bin:${XDG_DATA_HOME}/npm/bin:${PATH}"
